{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/category.service\";\nimport * as i2 from \"../../services/product.service\";\nimport * as i3 from \"../../services/favorites.service\";\nimport * as i4 from \"../../services/panier.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@angular/router\";\n\nconst _c0 = function (a1) {\n  return [\"/products\", a1];\n};\n\nfunction HomeComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelement(1, \"img\", 24);\n    i0.ɵɵelementStart(2, \"div\", 25);\n    i0.ɵɵelementStart(3, \"h3\", 26);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const c_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(3, _c0, c_r2.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", c_r2.imageCatUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(c_r2.name);\n  }\n}\n\nfunction HomeComponent_div_21_img_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 41);\n  }\n\n  if (rf & 2) {\n    const p_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"src\", p_r3.imageUrl, i0.ɵɵsanitizeUrl);\n  }\n}\n\nconst _c1 = function (a0, a1) {\n  return {\n    \"far\": a0,\n    \"fas\": a1\n  };\n};\n\nfunction HomeComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵelementStart(1, \"div\", 28);\n    i0.ɵɵelementStart(2, \"span\", 29);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"i\", 30);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_21_Template_i_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const p_r3 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.onFavorite(p_r3.id);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 31);\n    i0.ɵɵtemplate(7, HomeComponent_div_21_img_7_Template, 1, 1, \"img\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 33);\n    i0.ɵɵelementStart(9, \"span\", 33);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\", 34);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 35);\n    i0.ɵɵelementStart(14, \"span\");\n    i0.ɵɵtext(15, \"quantit\\u00E9 : \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"input\", 36, 37);\n    i0.ɵɵelementStart(18, \"span\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 38);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_21_Template_div_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const p_r3 = restoredCtx.$implicit;\n\n      const _r5 = i0.ɵɵreference(17);\n\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.addProduct(p_r3, _r5.value);\n    });\n    i0.ɵɵelementStart(21, \"span\", 39);\n    i0.ɵɵtext(22, \"Ajouter au panier \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"i\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const p_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(4, 7, p_r3.price, \"EUR\"), \"/ \", p_r3.unit, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(10, _c1, !p_r3.ifFavorite, p_r3.ifFavorite));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", p_r3.imageUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", p_r3.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r3.description);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" /\", p_r3.unit, \" \");\n  }\n}\n\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(categoryService, productService, favoritesService, panierService) {\n      this.categoryService = categoryService;\n      this.productService = productService;\n      this.favoritesService = favoritesService;\n      this.panierService = panierService;\n      this.randomFiveProducts = [];\n      this.favorites = {\n        favorites: [],\n        nbFavorites: 0\n      };\n      this.five = 0;\n    }\n\n    ngOnInit() {\n      this.categoryService.getCategories().subscribe(res => {\n        if (res) this.categories = res;\n      });\n      this.productService.getProducts().subscribe(res => {\n        if (res) {\n          for (let i = 0; i < res.length; i++) {\n            if (Math.random() < 0.5 && this.five < 6) {\n              this.randomFiveProducts.push(res[i]);\n              this.five++;\n            }\n          }\n\n          this.products = this.randomFiveProducts; //update the favorites from local storage, if needed.\n\n          this.products.forEach((element_p, index_p, array_p) => {\n            this.favorites.favorites.forEach((element_f, index_f, array_f) => {\n              if (element_p.id == element_f) {\n                element_p.ifFavorite = true;\n              }\n            });\n          });\n        } //this.products = res;\n\n      });\n      this.favorites = this.favoritesService.getFavoritesLocalStorage();\n    } //Add product to 'mon panier'\n\n\n    addProduct(p, quantity) {\n      if (+quantity > 5) quantity = '5';\n      this.panierService.addProductLocalStorage(p, +quantity);\n    } //Add to favorites\n\n\n    onFavorite(id) {\n      let index = this.products.findIndex(p => p.id == id);\n\n      if (!this.products[index].ifFavorite) {\n        this.products[index].ifFavorite = true;\n        this.favoritesService.addFavoritesLocalStorage(id);\n      } else {\n        this.products[index].ifFavorite = false;\n        this.favoritesService.deleteFavoritesLocalStorage(id);\n      }\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.CategoryService), i0.ɵɵdirectiveInject(i2.ProductService), i0.ɵɵdirectiveInject(i3.FavoritesService), i0.ɵɵdirectiveInject(i4.PanierService));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 35,\n    vars: 2,\n    consts: [[\"id\", \"home\", 1, \"home\"], [1, \"image\"], [\"src\", \"../../assets/images/del_3.png\", \"alt\", \"\"], [1, \"content\"], [1, \"heur\"], [\"href\", \"#categories\", 1, \"btn\", 2, \"padding\", \"1rem 3rem\"], [1, \"fas\", \"fa-shopping-cart\"], [1, \"home-small\"], [\"id\", \"categories\", 1, \"categories\"], [1, \"banner-container\"], [\"class\", \"banner\", 3, \"routerLink\", 4, \"ngFor\", \"ngForOf\"], [1, \"products\"], [1, \"product-container\"], [\"class\", \"product-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"contact\"], [\"id\", \"contact\", 1, \"contact-container\"], [1, \"heading\"], [\"action\", \"\"], [1, \"inputBox\"], [\"type\", \"text\", \"placeholder\", \"name\"], [\"type\", \"email\", \"placeholder\", \"email\"], [\"placeholder\", \"message\", \"name\", \"\", \"id\", \"\", \"cols\", \"30\", \"rows\", \"10\"], [\"type\", \"submit\", \"value\", \"Envoyer un message\", 1, \"btn\"], [1, \"banner\", 3, \"routerLink\"], [\"alt\", \"\", 3, \"src\"], [1, \"content2\"], [1, \"title-title\"], [1, \"product-card\"], [1, \"product-favorite\"], [1, \"price-price\"], [1, \"fa-heart\", 3, \"ngClass\", \"click\"], [1, \"product-img\"], [\"class\", \"img-img\", \"alt\", \"image\", 3, \"src\", 4, \"ngIf\"], [1, \"product-title\"], [1, \"title-discription\"], [1, \"quantity\"], [\"type\", \"number\", \"min\", \"1\", \"max\", \"5\", \"value\", \"1\"], [\"quantity\", \"\"], [1, \"btn\", \"product-btn\", 3, \"click\"], [1, \"product-btn-btn\"], [1, \"fas\", \"fa-cart-plus\"], [\"alt\", \"image\", 1, \"img-img\", 3, \"src\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelement(2, \"img\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"span\");\n        i0.ɵɵelementStart(5, \"i\");\n        i0.ɵɵtext(6, \"livraison rapide \");\n        i0.ɵɵelementStart(7, \"span\", 4);\n        i0.ɵɵtext(8, \"(maximum 1H) \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"h3\");\n        i0.ɵɵtext(10, \"Produits toujours frais\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"a\", 5);\n        i0.ɵɵtext(12, \"Commencer les courses\");\n        i0.ɵɵelement(13, \"i\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(14, \"div\", 7);\n        i0.ɵɵelementStart(15, \"div\", 8);\n        i0.ɵɵelementStart(16, \"section\", 9);\n        i0.ɵɵtemplate(17, HomeComponent_div_17_Template, 5, 5, \"div\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"div\", 7);\n        i0.ɵɵelementStart(19, \"div\", 11);\n        i0.ɵɵelementStart(20, \"section\", 12);\n        i0.ɵɵtemplate(21, HomeComponent_div_21_Template, 24, 13, \"div\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(22, \"div\", 7);\n        i0.ɵɵelementStart(23, \"div\", 14);\n        i0.ɵɵelementStart(24, \"section\", 15);\n        i0.ɵɵelementStart(25, \"h1\", 16);\n        i0.ɵɵelementStart(26, \"span\");\n        i0.ɵɵtext(27, \"Nous \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(28, \" contacter\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"form\", 17);\n        i0.ɵɵelementStart(30, \"div\", 18);\n        i0.ɵɵelement(31, \"input\", 19);\n        i0.ɵɵelement(32, \"input\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(33, \"textarea\", 21);\n        i0.ɵɵelement(34, \"input\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.products);\n      }\n    },\n    directives: [i5.NgForOf, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.NgForm, i7.RouterLink, i5.NgClass, i5.NgIf],\n    pipes: [i5.CurrencyPipe],\n    styles: [\".home[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;height:calc(100vh - 162.44px);width:70%;border:15px solid #526628;border-radius:50px 0 50px 0;margin:1.2rem auto auto;background-color:#fff;overflow:hidden}.home[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{flex:1 1 40rem;padding-top:5rem}.home[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.home[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1 1 40rem}.home[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:3rem;color:#526628}.home[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:2rem;font-size:4rem;color:var(--dark)}@media screen and (max-width:754px) and (min-width:450px){.home-small[_ngcontent-%COMP%]{height:150px}}@media (max-width:1250px){.home[_ngcontent-%COMP%]{width:90%}}@media (max-width:850px){.home[_ngcontent-%COMP%]{width:100%;border:10px solid #526628;border-radius:0;margin-top:0}}@media (max-width:767px){.home[_ngcontent-%COMP%]{border:5px solid #526628;flex-direction:row;text-align:center}.home[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:30rem;width:auto}.home[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:3rem;width:90%;height:6rem}}@media (max-width:499px){.home[_ngcontent-%COMP%]   .fa-shopping-cart[_ngcontent-%COMP%]{display:none!important}}.home-small[_ngcontent-%COMP%]{height:5rem}.heading[_ngcontent-%COMP%]{color:var(--dark);font-size:3.5rem;background-color:#fff;padding:1rem;text-align:center;width:100%;margin:auto;flex-basis:unset}.heading[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:uppercase}.heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--light)}.categories[_ngcontent-%COMP%]{width:100%;background-color:#f7f7f7}.banner-container[_ngcontent-%COMP%]{margin-top:4rem;display:flex;grid-gap:.5rem;gap:.5rem;background-color:#fff!important;width:80%;margin-left:auto;margin-right:auto;padding:5rem 2rem}.banner-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{flex:1 1 40rem;height:25rem;overflow:hidden;position:relative}.banner-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]:hover{cursor:pointer}.banner-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;transition:.5s!important;object-fit:contain}.banner-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .content2[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:100%}.banner-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:3rem;color:var(--dark)}.banner-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.2) rotate(-5deg)}.banner-container[_ngcontent-%COMP%]   .title-title[_ngcontent-%COMP%]{margin:0;background-color:#ffffffa6;width:100%;padding:1rem;position:relative;top:-100px;font-size:2.5rem;color:var(--dark);border-top:20px solid #53662880;border-bottom:2px solid #53662880}.banner-container[_ngcontent-%COMP%]   .title-title[_ngcontent-%COMP%]:hover{color:var(--dark)}.banner-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]:hover   .title-title[_ngcontent-%COMP%], .banner-container[_ngcontent-%COMP%]   .title-title[_ngcontent-%COMP%]:hover{border-top:20px solid #536628;border-bottom:2px solid #536628}@media (max-width:1400px){.banner-container[_ngcontent-%COMP%]{width:90%}}@media (max-width:1050px){.banner-container[_ngcontent-%COMP%]{width:97%}.banner-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{border:2px solid #53662880}}@media (max-width:767px){.banner-container[_ngcontent-%COMP%]{margin-top:4rem;display:flex;grid-gap:.5rem;gap:.5rem;background-color:#fff!important;margin-left:auto;margin-right:auto;padding:6rem .5rem}}.contact[_ngcontent-%COMP%]{width:100%}.contact-container[_ngcontent-%COMP%]{width:80%;margin:auto;padding:2rem}.contact-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{text-align:center;padding:2rem;border:.1rem solid #0000004d}.contact-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.contact-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:1rem;font-size:1.7rem;background:#fff;text-transform:none;margin:1rem 0;border:.1rem solid #0000004d;width:49%}.contact-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:20rem;resize:none;width:100%}@media (max-width:1400px){.contact-container[_ngcontent-%COMP%]{width:90%}}@media (max-width:1050px){.contact-container[_ngcontent-%COMP%]{width:100%}}\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}